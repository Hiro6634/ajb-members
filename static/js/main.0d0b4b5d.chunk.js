(this["webpackJsonpajb-members"]=this["webpackJsonpajb-members"]||[]).push([[0],{49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(26),i=n.n(s),o=n(19),l=n(14),u=n(16),b=n(38),d=n.n(b),j=n(39),p=n(9),h={SET_CURRENT_USER:"SET_CURRENT_USER"},f={currentUser:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type===h.SET_CURRENT_USER?Object(p.a)(Object(p.a)({},e),{},{currentUser:t.payload}):e},O=Object(u.b)({user:m}),v=[d.a],x=Object(u.c)(O,u.a.apply(void 0,v)),g=(Object(j.a)(x),n(49),n(17)),y=n.n(g),w=n(22),E=n(28),S=n(29),N=n(32),k=n(31),U=n(5),C=n(15),I=(n(51),n(2)),R=function(e){e.currentUser;return Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"HOME PAGE"})})},A=["title","titleId"];function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){var n=e.title,c=e.titleId,s=T(e,A);return a.createElement("svg",G({width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},s),void 0===n?a.createElement("title",{id:c},"Red Link"):n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("desc",null,"Logo Red Link sa")),a.createElement("g",null,a.createElement("circle",{cx:50,cy:50,r:45,stroke:"#f9d322",strokeWidth:5,style:{fill:"#077753"}}),a.createElement("polyline",{points:"13,37 19,37 19,58 29,58 29,63 13,63",style:{fill:"#f9d322"}}),a.createElement("polyline",{points:"31,37 38,37 38,63 31,63",style:{fill:"#f9d322"}}),a.createElement("polyline",{points:"40,37 48,37 58,55 57,37 63,37 63,63 57,63 46,44 46,63 40,63",style:{fill:"#f9d322"}}),a.createElement("polyline",{points:"66,37 72,37 72,48 87,26 91,33 79,49 88,63 81,63 75,53 72,55 72,63 66,63",style:{fill:"#f9d322"}}),a.createElement("circle",{cx:34,cy:29,r:4,style:{fill:"#e72523"}})),"\r\n    Sorry, your browser does not support inline SVG.\r\n")}var P=a.forwardRef(_),L=(n.p,n(53),Object(C.a)([function(e){return e.user}],(function(e){return e.currentUser}))),D=n(23);n(67),n(55);D.a.initializeApp({apiKey:"AIzaSyA5CglhnTnTct8KR5gXa4rxVThy9Mkb4sQ",authDomain:"ajbmembers-d2638.firebaseapp.com",databaseURL:"https://ajbmembers-d2638-default-rtdb.firebaseio.com",projectId:"ajbmembers-d2638",storageBucket:"ajbmembers-d2638.appspot.com",messagingSenderId:"267832062268",appId:"1:267832062268:web:61882efb1a3d90f882ee39",measurementId:"G-DLB0G6CFH7"});var W=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var r,a,c,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=F.doc("members/".concat(t.uid)),e.next=5,r.get();case 5:if(a=e.sent,console.log("snapShot: ",a),a.exists){e.next=18;break}return c=t.displayName,s=t.email,i=new Date,e.prev=10,e.next=13,r.set(Object(p.a)({displayName:c,email:s,createAt:i},n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.error("error creating user ",e.t0.message);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}(),B=D.a.auth(),F=D.a.firestore(),H=new D.a.auth.GoogleAuthProvider;H.setCustomParameters({prompt:"select_account"});var M=function(){return B.signInWithPopup(H)},q=(D.a,Object(C.b)({currentUser:L})),z=Object(l.b)(q)((function(e){var t=e.currentUser;return Object(I.jsxs)("div",{className:"header",children:[Object(I.jsx)(o.b,{to:"/",children:Object(I.jsx)(P,{className:"logo-container"})}),Object(I.jsxs)("div",{className:"options",children:[Object(I.jsx)(o.b,{className:"option",to:"/info",children:"Info"}),t?Object(I.jsx)("div",{className:"option",onClick:function(){return B.signOut()},children:"Salir"}):Object(I.jsx)(o.b,{className:"option",to:"/signin",children:"Ingresar"})]})]})})),J=(n(60),n(27)),K=(n(61),n(30)),V=(n(62),["handleChange","label"]),X=function(e){var t=e.handleChange,n=e.label,r=Object(K.a)(e,V);return Object(I.jsxs)("div",{className:"group",children:[Object(I.jsx)("input",Object(p.a)({className:"form-input",onChange:t},r)),n?Object(I.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:n}):null]})},Q=(n(63),["children","isGoogleSignIn","inverted"]),Y=function(e){var t=e.children,n=e.isGoogleSignIn,r=e.inverted,a=Object(K.a)(e,Q);return Object(I.jsx)("button",Object(p.a)(Object(p.a)({className:"".concat(r?"inverted":n?"google-sign-in":""," custom-button")},a),{},{children:t}))},Z=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.state,a=n.email,c=n.password,e.prev=2,e.next=5,B.signInWithEmailAndPassword(a,c);case 5:r.setState({eamil:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(e){var t=e.target,n=t.value,a=t.name;r.setState(Object(J.a)({},a,n))},r.state={email:"",password:""},r}return Object(S.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:"sign-in",children:[Object(I.jsx)("h2",{children:"I already have an account"}),Object(I.jsx)("span",{children:"Sign In with your email and password"}),Object(I.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(I.jsx)(X,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),Object(I.jsx)(X,{name:"password",type:"password",handleChange:this.handleChange,value:this.state.password,label:"password",required:!0}),Object(I.jsxs)("div",{className:"buttons",children:[Object(I.jsx)(Y,{type:"submit",children:"SIGN IN"}),Object(I.jsx)(Y,{type:"button",onClick:M,isGoogleSignIn:!0,children:"SIGN IN WITH GOOGLE"})]})]})]})}}]),n}(c.a.Component),$=Z,ee=function(){return Object(I.jsx)("div",{className:"sign-in-page",children:Object(I.jsx)($,{})})},te=(n(64),n(65),Object(l.b)((function(){return Object(C.b)({currentUser:L})}))((function(e){var t=e.currentUser;return Object(I.jsxs)("div",{className:"credential-container",children:[Object(I.jsx)("h1",{className:"display-name",children:t.displayName}),Object(I.jsxs)("p",{children:["Socio: ",t.idNumber]}),Object(I.jsxs)("p",{children:["Categoria: ",t.category]}),Object(I.jsxs)("p",{children:["Estado: ",t.state]})]})}))),ne=Object(l.b)((function(){return Object(C.b)({currentUser:L})}))((function(e){var t=e.currentUser;return Object(I.jsx)("div",{className:"personal-info",children:t?Object(I.jsx)(te,{}):null})})),re=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).unsubscribeFromAuth=null,e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=B.onAuthStateChanged(function(){var t=Object(w.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,W(n);case 3:t.sent.onSnapshot((function(t){e(Object(p.a)({id:t.id},t.data()))}));case 5:e(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this.props.currentUser;return Object(I.jsxs)("div",{children:[Object(I.jsx)(z,{}),Object(I.jsxs)(U.d,{children:[Object(I.jsx)(U.b,{exact:!0,path:"/",component:R}),Object(I.jsx)(U.b,{path:"/info",component:ne}),Object(I.jsx)(U.b,{exact:!0,path:"/signin",render:function(){return e?Object(I.jsx)(U.a,{to:"/info"}):Object(I.jsx)(ee,{})}}),Object(I.jsx)(U.a,{to:"/"})]})]})}}]),n}(c.a.Component),ae=Object(C.b)({currentUser:L}),ce=Object(l.b)(ae,(function(e){return{setCurrentUser:function(t){return e(function(e){return console.log("UserAction:",e),{type:h.SET_CURRENT_USER,payload:e}}(t))}}}))(re);i.a.render(Object(I.jsx)(l.a,{store:x,children:Object(I.jsx)(o.a,{children:Object(I.jsx)(ce,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.0d0b4b5d.chunk.js.map